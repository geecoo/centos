server {
    listen       80;
    server_name  crm.cn;

    charset utf-8;
    access_log  /data/logs/access.pc-crm.log  main buffer=64k;

    #error_page  404              /404.html;
    
    root   /data/www/infp_crm_admin/public;
    
    location / {
        index  index.php index.html;
        try_files  $uri $uri/ @rewrite;  
    }

    location @rewrite {    
        rewrite ^/(.*)$ /index.php?_url=/$1;    
    } 

    location ~ \.php { 

        fastcgi_pass 127.0.0.1:9000; 
        fastcgi_index /index.php; 

        fastcgi_split_path_info    ^(.+\.php)(/.+)$; 
        fastcgi_param PATH_INFO    $fastcgi_path_info; 
        fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info; 
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; 
        include  fastcgi_params;
    } 

    #location ~ \.php/ {
    #    if ($request_uri ~ ^(.+\.php)(/.+?)($|\?)) { }
    #    fastcgi_pass 127.0.0.1:9000;
    #    include fastcgi_params;
    #    fastcgi_param SCRIPT_NAME     $1;
    #    fastcgi_param PATH_INFO       $2;
    #    fastcgi_param SCRIPT_FILENAME $document_root$1;
    #}
    #location ~ \.php$ {
    #    fastcgi_pass 127.0.0.1:9000;
    #    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    #    include fastcgi_params;
    #} 
    
}
